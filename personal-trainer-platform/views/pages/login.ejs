<%- include('../partials/header', { 
    title: 'Login - FitConnect',
    bodyClass: 'auth-body'
}) %>

<div class="auth-container">
    <div class="auth-card">
        <div class="auth-header">
            <h2>Bem-vindo de volta!</h2>
            <p>Entre na sua conta para continuar</p>
        </div>

        <% if (error) { %>
            <div class="alert alert-error">
                <%= error %>
            </div>
        <% } %>

        <form class="auth-form" method="POST" action="/auth/login" id="loginForm">
            <div class="form-group">
                <label for="email">E-mail</label>
                <input type="email" id="email" name="email" value="trainer@fitconnect.com" required>
            </div>

            <div class="form-group">
                <label for="password">Senha</label>
                <input type="password" id="password" name="password" value="123456" required>
            </div>

            <button type="submit" class="btn btn-primary btn-block" id="submitBtn">Entrar</button>
        </form>

        <div class="auth-footer">
            <p>Não tem uma conta? <a href="/auth/register">Cadastre-se</a></p>
            <p><a href="/">← Voltar para o site</a></p>
        </div>
    </div>
</div>

<script>
    // SCRIPT SIMPLES E GARANTIDO PARA LOGIN
    console.log('🔐 Login carregado - versão garantida');
    
    document.getElementById('loginForm').addEventListener('submit', function(e) {
        console.log('🚀 Formulário enviado!');
        
        const email = document.getElementById('email').value;
        const password = document.getElementById('password').value;
        
        console.log('📧 Email:', email);
        console.log('🔑 Senha:', password ? '***' : 'vazia');
        
        // Apenas mostrar loading, NÃO prevenir envio
        document.getElementById('submitBtn').textContent = 'Entrando...';
        document.getElementById('submitBtn').disabled = true;
        
        // O formulário vai enviar normalmente
    });
</script>

<%- include('../partials/footer') %>
